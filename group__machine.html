<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="keywords" content="frozen, data, processing, big data, daemon, fast, flexible"/>
<title>Machines | frozen - flexible data processing daemon</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">frozen
   &#160;<span id="projectnumber">1.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Machines</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__mod__machine__mphf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__mphf.html">index/mphf</a></td></tr>
<tr class="memitem:group__mod__machine__rebuild"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__rebuild.html">machine/rebuild</a></td></tr>
<tr class="memitem:group__mod__machine__kill"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__kill.html">daemon/kill</a></td></tr>
<tr class="memitem:group__mod__machine__thread"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__thread.html">daemon/thread</a></td></tr>
<tr class="memitem:group__mod__machine__query"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__query.html">data/query</a></td></tr>
<tr class="memitem:group__mod__machine__split"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__split.html">data/split</a></td></tr>
<tr class="memitem:group__mod__machine__structs"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__structs.html">data/structs</a></td></tr>
<tr class="memitem:group__mod__machine__jenkins"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__jenkins.html">hash/jenkins</a></td></tr>
<tr class="memitem:group__mod__machine__murmur"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__murmur.html">hash/murmur</a></td></tr>
<tr class="memitem:group__mod__machine__fill"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__fill.html">index/fill</a></td></tr>
<tr class="memitem:group__mod__machine__hashtable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__hashtable.html">index/hashtable</a></td></tr>
<tr class="memitem:group__mod__machine__lookup"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__lookup.html">index/lookup</a></td></tr>
<tr class="memitem:group__mod__machine__stdin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__stdin.html">io/stdin</a></td></tr>
<tr class="memitem:group__mod__machine__stdout"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__stdout.html">io/stdout</a></td></tr>
<tr class="memitem:group__mod__machine__stderr"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__stderr.html">io/stderr</a></td></tr>
<tr class="memitem:group__mod__machine__fuse"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__fuse.html">io/fuse</a></td></tr>
<tr class="memitem:group__mod__machine__ipc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__ipc.html">io/ipc</a></td></tr>
<tr class="memitem:group__mod__machine__tcp"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__tcp.html">io/tcp</a></td></tr>
<tr class="memitem:group__mod__machine__benchmark"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__benchmark.html">machine/benchmark</a></td></tr>
<tr class="memitem:group__mod__machine__limit"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__limit.html">machine/limit</a></td></tr>
<tr class="memitem:group__mod__machine__morph"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__morph.html">machine/morph</a></td></tr>
<tr class="memitem:group__mod__machine__pool"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__pool.html">machine/pool</a></td></tr>
<tr class="memitem:group__mod__machine__assign"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__assign.html">request/assign</a></td></tr>
<tr class="memitem:group__mod__machine__debug"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__debug.html">request/debug</a></td></tr>
<tr class="memitem:group__mod__machine__delay"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__delay.html">request/delay</a></td></tr>
<tr class="memitem:group__mod__machine__emitter"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__emitter.html">request/emitter</a></td></tr>
<tr class="memitem:group__mod__machine__end"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__end.html">request/end</a></td></tr>
<tr class="memitem:group__mod__machine__implode"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__implode.html">request/implode</a></td></tr>
<tr class="memitem:group__mod__machine__switch"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__switch.html">request/switch</a></td></tr>
<tr class="memitem:group__mod__machine__pass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__pass.html">shop/pass</a></td></tr>
<tr class="memitem:group__mod__machine__return"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__return.html">shop/return</a></td></tr>
<tr class="memitem:group__mod__machine__try"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__try.html">shop/try</a></td></tr>
<tr class="memitem:group__mod__machine__mutex"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__mutex.html">sync/mutex</a></td></tr>
<tr class="memitem:group__mod__machine__mongrel2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__mongrel2.html">module/c_mongrel2</a></td></tr>
<tr class="memitem:group__mod__machine__zeromq"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__zeromq.html">modules/zeromq</a></td></tr>
<tr class="memitem:group__mod__machine__regexp"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod__machine__regexp.html">data/regexp</a></td></tr>
</table>


<h3><a class="anchor" id="machine_overview"></a>Machines overview</h3><div class="textblock">Every user request processed by one machine, or by machine shop. Machine can perform various actions: </p>
<ul>
<li>interact with datatypes, such as files, sockets, etc </li>
<li>can read, write and modify request's values</li>
</ul>
<p>If user request is too complex for one machine, it can be processed with shop of machines. Shop of machines process user request step by step. One machine in such shop can modify request in way another machine can understand it. Another machines can do, as we already know, external things, for example write user data to file.There is several types of requests and corresponding apis. Details described in api section. </div>

<h3><a class="anchor" id="machine_creation"></a>Creation and configuration</h3><div class="textblock">To create new machine you have to know it's "class name". For example - "storage/file". It consist of category name (storage) and machine name (file). Categories introduced to group identical machines to one place. There is serveral important categories: request, storage, data, io. These categories represent most common used operations with user requests. </p>
<ul>
<li>request - modify, print, user request; change request path </li>
<li>storage - save and load user data from external storage </li>
<li>data - modify, pack/unpack, regexp user data from request </li>
<li>io - input and output from/to frozen, for example, fuse as filesystem for io There is more categories which is not listed.</li>
</ul>
<p>Almost every machine need some configuration variables to control it's behavior. They can be passed on new machine creation.Currently you can't change configuration passed on step of creation, but after rewriting some of machines it can be possible. Example of correct configuration routines is machine "machine/factory". So, if func_configure of machine is reentrant and updates taken in account - you can change configuration in any time. </div>

<h3><a class="anchor" id="machine_requests"></a>Requests</h3><div class="textblock">Then user request arrived, machine's handler is called. Machine can: </p>
<ul>
<li>return error or success code </li>
<li>read user request, check inputs, do something with it </li>
<li>pass user request to next machine(s) in shop </li>
<li>pass any request to next machine(s) in shop </li>
<li>etc...</li>
</ul>
<p>Internally all requests flow into some kind of recursive processing there each step is next machine. So, there is no such thing as async requests. Request considered finished then first machine return control to caller. But, async requests is too good to discard them, so you can use queue to save all requests and process them later, returning control almost immediatly. Of course, in such case, you should keep all data used in this request until this request will be really finished. </div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated for frozen by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a></small></address>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7806052-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
