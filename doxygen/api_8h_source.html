<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="keywords" content="frozen, data, processing, big data, daemon, fast, flexible"/>
<title>api.h Source File | frozen - flexible data processing daemon</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">frozen
   &#160;<span id="projectnumber">1.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">api.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef API_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define API_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00096"></a>00096 <span class="keyword">typedef</span> <span class="keyword">enum</span> api_types {
<a name="l00097"></a>00097         API_HASH = 1,
<a name="l00098"></a>00098         API_FAST = 4
<a name="l00099"></a>00099 } api_types;
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="keyword">typedef</span> ssize_t (*f_hash)      (<a class="code" href="structmachine__t.html" title="Machine structure.">machine_t</a> *, <a class="code" href="structhash__t.html" title="Hash item.">request_t</a> *);
<a name="l00102"></a>00102 <span class="keyword">typedef</span> ssize_t (*f_fast_func) (<a class="code" href="structdata__t.html" title="Data holder.">data_t</a> *,    <span class="keywordtype">void</span> *);
<a name="l00103"></a>00103 <span class="keyword">typedef</span> ssize_t (*f_callback)  (<a class="code" href="structhash__t.html" title="Hash item.">request_t</a> *, <span class="keywordtype">void</span> *);
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="structfastcall__header.html">00105</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__header.html">fastcall_header</a> {
<a name="l00106"></a>00106         uintmax_t              nargs;
<a name="l00107"></a>00107         uintmax_t              action;
<a name="l00108"></a>00108 } <a class="code" href="structfastcall__header.html">fastcall_header</a>;
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 <span class="comment">/*</span>
<a name="l00111"></a>00111 <span class="comment">        // Various</span>
<a name="l00112"></a>00112 <span class="comment">        ACTION(QUERY),</span>
<a name="l00113"></a>00113 <span class="comment">*/</span>
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment">// Core api set {{{</span>
<a name="l00136"></a><a class="code" href="structfastcall__convert__from.html">00136</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__convert__from.html">fastcall_convert_from</a> { <span class="comment">// ACTION(CONVERT_FROM) </span>
<a name="l00137"></a>00137         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00138"></a>00138         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *src;
<a name="l00139"></a>00139         uintmax_t              format;
<a name="l00140"></a>00140         uintmax_t              transfered;
<a name="l00141"></a>00141 } <a class="code" href="group__api__core.html#gaecb1f34f50977110dad58681649bd7d2">fastcall_convert_from</a>;
<a name="l00142"></a>00142 
<a name="l00154"></a><a class="code" href="structfastcall__convert__to.html">00154</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__convert__to.html">fastcall_convert_to</a> { <span class="comment">// ACTION(CONVERT_TO) </span>
<a name="l00155"></a>00155         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00156"></a>00156         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *dest;
<a name="l00157"></a>00157         uintmax_t              format;
<a name="l00158"></a>00158         uintmax_t              transfered;
<a name="l00159"></a>00159 } <a class="code" href="group__api__core.html#ga20cd5a8f0fc078e88d5ccfaf4bac18e3">fastcall_convert_to</a>;
<a name="l00160"></a>00160 
<a name="l00170"></a><a class="code" href="structfastcall__free.html">00170</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__free.html">fastcall_free</a> { <span class="comment">// ACTION(FREE)</span>
<a name="l00171"></a>00171         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00172"></a>00172 } <a class="code" href="group__api__core.html#ga553805b65d02b5813961a4c5437ac38c">fastcall_free</a>;
<a name="l00173"></a>00173 
<a name="l00182"></a><a class="code" href="structfastcall__control.html">00182</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__control.html">fastcall_control</a> { <span class="comment">// ACTION(CONTROL)</span>
<a name="l00183"></a>00183         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00184"></a>00184         uintmax_t              <span class="keyword">function</span>;
<a name="l00185"></a>00185         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *key;
<a name="l00186"></a>00186         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *value;
<a name="l00187"></a>00187 } <a class="code" href="group__api__core.html#ga205905cc3dba27e5dd265b04c6d73844">fastcall_control</a>;
<a name="l00188"></a>00188 
<a name="l00189"></a><a class="code" href="structfastcall__consume.html">00189</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__consume.html">fastcall_consume</a> { <span class="comment">// ACTION(CONSUME)</span>
<a name="l00190"></a>00190         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00191"></a>00191         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *dest;
<a name="l00192"></a>00192 } <a class="code" href="structfastcall__consume.html">fastcall_consume</a>;
<a name="l00193"></a>00193 <span class="comment">// }}}</span>
<a name="l00194"></a>00194 <span class="comment">// Basic storage api set {{{</span>
<a name="l00212"></a><a class="code" href="structfastcall__resize.html">00212</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__resize.html">fastcall_resize</a> { <span class="comment">// ACTION(RESIZE)</span>
<a name="l00213"></a>00213         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00214"></a>00214         uintmax_t              length;
<a name="l00215"></a>00215 } <a class="code" href="group__api__storage.html#ga830a8c12e1555b0d3ddc7d10ab7df641">fastcall_resize</a>;
<a name="l00216"></a>00216 
<a name="l00225"></a><a class="code" href="structfastcall__length.html">00225</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__length.html">fastcall_length</a> { <span class="comment">// ACTION(LENGTH)</span>
<a name="l00226"></a>00226         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00227"></a>00227         uintmax_t              length;
<a name="l00228"></a>00228         uintmax_t              format;
<a name="l00229"></a>00229 } <a class="code" href="group__api__storage.html#gaeb6012e8f0236b3b6a0e19df41bb3afe">fastcall_length</a>;
<a name="l00230"></a>00230 
<a name="l00249"></a><a class="code" href="structfastcall__io.html">00249</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__io.html">fastcall_io</a> {
<a name="l00250"></a>00250         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00251"></a>00251         uintmax_t              offset;
<a name="l00252"></a>00252         <span class="keywordtype">void</span>                  *buffer;
<a name="l00253"></a>00253         uintmax_t              buffer_size;
<a name="l00254"></a>00254 } <a class="code" href="group__api__storage.html#ga82686459eeab59bb0d911538addd4278">fastcall_io</a>;
<a name="l00255"></a>00255 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__io.html">fastcall_io</a>     <a class="code" href="structfastcall__io.html">fastcall_read</a>;  <span class="comment">// ACTION(READ)</span>
<a name="l00256"></a>00256 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__io.html">fastcall_io</a>     <a class="code" href="structfastcall__io.html">fastcall_write</a>; <span class="comment">// ACTION(WRITE)</span>
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 <span class="comment">// }}}</span>
<a name="l00259"></a>00259 <span class="comment">// Basic arithmetic api set {{{</span>
<a name="l00278"></a><a class="code" href="structfastcall__arith.html">00278</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__arith.html">fastcall_arith</a> {
<a name="l00279"></a>00279         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00280"></a>00280         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *data2;
<a name="l00281"></a>00281 } <a class="code" href="group__api__arith.html#ga57acee0327c5b54f7ad5f1c0eebfe047">fastcall_arith</a>;
<a name="l00282"></a>00282 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__arith.html">fastcall_arith</a>  <a class="code" href="structfastcall__arith.html">fastcall_add</a>; <span class="comment">// ACTION(ADD)</span>
<a name="l00283"></a>00283 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__arith.html">fastcall_arith</a>  <a class="code" href="structfastcall__arith.html">fastcall_sub</a>; <span class="comment">// ACTION(SUB)</span>
<a name="l00284"></a>00284 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__arith.html">fastcall_arith</a>  <a class="code" href="structfastcall__arith.html">fastcall_mul</a>; <span class="comment">// ACTION(MULTIPLY)</span>
<a name="l00285"></a>00285 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__arith.html">fastcall_arith</a>  <a class="code" href="structfastcall__arith.html">fastcall_div</a>; <span class="comment">// ACTION(DIVIDE)</span>
<a name="l00286"></a>00286 
<a name="l00287"></a><a class="code" href="structfastcall__arith__no__arg.html">00287</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__arith__no__arg.html">fastcall_arith_no_arg</a> {
<a name="l00288"></a>00288         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00289"></a>00289 } <a class="code" href="structfastcall__arith__no__arg.html">fastcall_arith_no_arg</a>;
<a name="l00290"></a>00290 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__arith__no__arg.html">fastcall_arith_no_arg</a> <a class="code" href="structfastcall__arith__no__arg.html">fastcall_increment</a>; <span class="comment">// ACTION(INCREMENT)</span>
<a name="l00291"></a>00291 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__arith__no__arg.html">fastcall_arith_no_arg</a> <a class="code" href="structfastcall__arith__no__arg.html">fastcall_decrement</a>; <span class="comment">// ACTION(DECREMENT)</span>
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 <span class="comment">// }}}</span>
<a name="l00294"></a>00294 <span class="comment">// Compare api set {{{</span>
<a name="l00312"></a><a class="code" href="structfastcall__is__null.html">00312</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__is__null.html">fastcall_is_null</a> { <span class="comment">// ACTION(IS_NULL)</span>
<a name="l00313"></a>00313         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00314"></a>00314         uintmax_t              is_null;
<a name="l00315"></a>00315 } <a class="code" href="group__api__compare.html#ga24c462f57fc039e3050dd74d0ea704f7">fastcall_is_null</a>;
<a name="l00316"></a>00316 
<a name="l00329"></a><a class="code" href="structfastcall__compare.html">00329</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__compare.html">fastcall_compare</a> { <span class="comment">// ACTION(COMPARE)</span>
<a name="l00330"></a>00330         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00331"></a>00331         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *data2;
<a name="l00332"></a>00332         uintmax_t              result;
<a name="l00333"></a>00333 } <a class="code" href="group__api__compare.html#ga83de127ad38135e12ea59450559c3c1f">fastcall_compare</a>;
<a name="l00334"></a>00334 <span class="comment">// }}}</span>
<a name="l00335"></a>00335 <span class="comment">// Items api set {{{</span>
<a name="l00383"></a><a class="code" href="structfastcall__crud.html">00383</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__crud.html">fastcall_crud</a> {
<a name="l00384"></a>00384         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00385"></a>00385         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *key;
<a name="l00386"></a>00386         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *value;
<a name="l00387"></a>00387 } <a class="code" href="group__api__items.html#ga46e363406a278c8865dff5be8e69b4ca">fastcall_crud</a>;
<a name="l00388"></a>00388 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__crud.html">fastcall_crud</a> <a class="code" href="structfastcall__crud.html">fastcall_create</a>; <span class="comment">// ACTION(CREATE)</span>
<a name="l00389"></a>00389 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__crud.html">fastcall_crud</a> <a class="code" href="structfastcall__crud.html">fastcall_lookup</a>; <span class="comment">// ACTION(LOOKUP)</span>
<a name="l00390"></a>00390 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__crud.html">fastcall_crud</a> <a class="code" href="structfastcall__crud.html">fastcall_update</a>; <span class="comment">// ACTION(UPDATE)</span>
<a name="l00391"></a>00391 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__crud.html">fastcall_crud</a> <a class="code" href="structfastcall__crud.html">fastcall_delete</a>; <span class="comment">// ACTION(DELETE)</span>
<a name="l00392"></a>00392 
<a name="l00403"></a><a class="code" href="structfastcall__push.html">00403</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__push.html">fastcall_push</a> { <span class="comment">// ACTION(PUSH)</span>
<a name="l00404"></a>00404         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00405"></a>00405         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *data;
<a name="l00406"></a>00406 } <a class="code" href="group__api__items.html#ga208a6da1f6af0dc98dad9fe96ba944d0">fastcall_push</a>;
<a name="l00407"></a>00407 
<a name="l00417"></a><a class="code" href="structfastcall__pop.html">00417</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__pop.html">fastcall_pop</a> { <span class="comment">// ACTION(POP)</span>
<a name="l00418"></a>00418         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00419"></a>00419         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *data;
<a name="l00420"></a>00420 } <a class="code" href="group__api__items.html#gabe808ea29bb6451ed0618f3bcc92763f">fastcall_pop</a>;
<a name="l00421"></a>00421 
<a name="l00432"></a><a class="code" href="structfastcall__enum.html">00432</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__enum.html">fastcall_enum</a> { <span class="comment">// ACTION(ENUM)</span>
<a name="l00433"></a>00433         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00434"></a>00434         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                *dest;
<a name="l00435"></a>00435 } <a class="code" href="group__api__items.html#ga397e8b25a96e84231692c799a5aa9356">fastcall_enum</a>;
<a name="l00436"></a>00436 <span class="comment">// }}}</span>
<a name="l00437"></a>00437 <span class="comment">// Data views api set {{{</span>
<a name="l00460"></a><a class="code" href="structfastcall__view.html">00460</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__view.html">fastcall_view</a> { <span class="comment">// ACTION(VIEW)</span>
<a name="l00461"></a>00461         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00462"></a>00462         uintmax_t              format;
<a name="l00463"></a>00463         <span class="keywordtype">void</span>                  *ptr;
<a name="l00464"></a>00464         uintmax_t              length;
<a name="l00465"></a>00465         <a class="code" href="structdata__t.html" title="Data holder.">data_t</a>                 freeit;
<a name="l00466"></a>00466 } <a class="code" href="group__api__view.html#ga996b86fb1170d36c8349fa60ab9b70b7">fastcall_view</a>;
<a name="l00467"></a>00467 <span class="comment">// }}}</span>
<a name="l00468"></a>00468 
<a name="l00469"></a><a class="code" href="structfastcall__query.html">00469</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__query.html">fastcall_query</a> {
<a name="l00470"></a>00470         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00471"></a>00471         <a class="code" href="structhash__t.html" title="Hash item.">request_t</a>             *request;
<a name="l00472"></a>00472 } <a class="code" href="structfastcall__query.html">fastcall_query</a>;
<a name="l00473"></a>00473 
<a name="l00474"></a><a class="code" href="structfastcall__batch.html">00474</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfastcall__batch.html">fastcall_batch</a> { <span class="comment">// ACTION(BATCH)</span>
<a name="l00475"></a>00475         <a class="code" href="structfastcall__header.html">fastcall_header</a>        header;
<a name="l00476"></a>00476         <a class="code" href="structfastcall__header.html">fastcall_header</a>      **requests;
<a name="l00477"></a>00477 } <a class="code" href="structfastcall__batch.html">fastcall_batch</a>;
<a name="l00478"></a>00478 
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 <span class="keyword">extern</span> uintmax_t fastcall_nargs[];
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 ssize_t     data_hash_query(<a class="code" href="structdata__t.html" title="Data holder.">data_t</a> *data, <a class="code" href="structhash__t.html" title="Hash item.">request_t</a> *request);
<a name="l00483"></a>00483 ssize_t     data_list_query(<a class="code" href="structdata__t.html" title="Data holder.">data_t</a> *data, <a class="code" href="structhash__t.html" title="Hash item.">request_t</a> *<a class="code" href="structlist.html">list</a>);
<a name="l00484"></a>00484 ssize_t     machine_fast_query(<a class="code" href="structmachine__t.html" title="Machine structure.">machine_t</a> *machine, <span class="keywordtype">void</span> *hargs);
<a name="l00485"></a>00485 
<a name="l00486"></a>00486 ssize_t     api_machine_nosys  (<a class="code" href="structmachine__t.html" title="Machine structure.">machine_t</a> *machine, <a class="code" href="structhash__t.html" title="Hash item.">request_t</a> *request);
<a name="l00487"></a>00487 ssize_t     api_data_nosys     (<a class="code" href="structdata__t.html" title="Data holder.">data_t</a> *data, <a class="code" href="structfastcall__header.html">fastcall_header</a> *hargs);
<a name="l00488"></a>00488 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated for frozen by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a></small></address>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7806052-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
